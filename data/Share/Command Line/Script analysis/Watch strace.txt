ws(){ [ -z "$1" ]&&read -ep "URL: " url||url=$1;eval $(cat /usr/local/apache/conf/httpd.conf | awk -v url="$url" 'BEGIN{match(url,"(https?://)?([^:/]+)(:([0-9]+))?(/[^?]*)?(\?.*)?$",a);host=a[2];uri=a[5];query=a[6]}$0~"Server(Alias|Name).*[ ]"host{p=1}p&&/DocumentRoot/{dr=$2;exit}END{if(!dr){print "echo No docroot found for "host;exit}if(!uri){uri="/"}file=uri;if(file~"/$"){file=file"index.php"};print "HTTP_HOST=\""host"\" REQUEST_URI=\""uri query"\" time strace -Trf php "dr file}'); }; ws